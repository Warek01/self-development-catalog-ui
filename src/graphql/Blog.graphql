fragment blogFields on Blog {
  slug
  title
  date
  content
  links {
    link
    text
  }
  blog_categories {
    data {
      attributes {
        title
        slug
      }
    }
  }
}

query FindBlog($slug: String!) {
  blogs(filters: { slug: { eq: $slug } }) {
    data {
      id
      attributes {
        ...blogFields
      }
    }
  }
}

query GetAllBlogs {
  blogs {
    data {
      id
      attributes {
        ...blogFields
      }
    }
  }
}

mutation CreateBlog(
  $userId: ID!
  $categories: [ID!]!
  $content: String!
  $slug: String!
  $title: String!
  $date: Date!
  $links: [ComponentUtilsLinkInput]
) {
  createBlog(
    data: {
      user: $userId
      blog_categories: $categories
      content: $content
      slug: $slug
      title: $title
      date: $date
      links: $links
    }
  ) {
    data {
      id
    }
  }
}

mutation UpdateBlog($id: ID!, $content: String) {
  updateBlog(id: $id, data: { content: $content }) {
    data {
      id
    }
  }
}
